<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org/"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <title>Ремонт</title>
    <div th:replace="fragments/head :: header"></div>
</head>

<body class="fixed-sidebar pace-done fixed-nav fixed-nav-basic curent-page">
<div class="b-overlay-wrap position-relative w-100" size="sm" id="wrapper">
    <div class="b-overlay-wrap position-relative w-100" size="sm" id="wrapper">
        <div th:insert="fragments/menu_sidebar.html"></div>
        <div class="b-overlay-wrap position-relative w-100" size="sm">
            <div class="rih-page-wrapper">
                <nav data-v-59295fda="" role="navigation" class="navbar navbar-admin navbar-fixed-top"
th:insert="fragments/header_logout.html"></nav>
                <main class="wrapper wrapper-content border-bottom">
                    <div class="b-overlay-wrap position-relative">
                        <div class="btn-pimary__groups mt-3 mb-3">
                            <div class="btn-pimary__groups-wrapper vidacha-sozdach mb-3">
                                <div class="mb-3 text-right">
                                    <a th:href="@{/repair/create}"
class="btn btn-primary min-width-120 green">Создать</a>
                                </div>
                                <div class="mb-3 text-right">
                                    <a href="#" class="btn btn-primary min-width-120 red">Удалить</a>
                                </div>
                                <div class="mb-3 text-right">
                                    <a href="/repair" class="btn btn-primary min-width-120 orange">Обновить</a>
                                </div>
                                <div class="mb-3 text-right">
                                    <a href="#" class="btn btn-primary min-width-120 grey">Экспорт</a>
                                </div>
                            </div>
                        </div>

                        <div class="custom-ll__table table-responsive">
                            <table class="table table-1190 w-100 in4dr-form">
                                <thead>
                                <tr>
                                    <th class="first-th">№</th>
                                    <th>Дата создания</th>
                                    <th>Название оборудования</th>
                                    <th>Исполнитель</th>
                                    <th>Телефон</th>
                                    <th>Начало ремонта</th>
                                    <th>Окончание ремонта</th>
                                    <th>Всего цена ремонта</th>
                                    <th>Сотрудник</th>
                                    <th>Примечание</th>
                                    <th>Статус</th>
                                    <th>Фотографии</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="status : ${list_statuses}">
                                    <td class="column-table">
                                        <div class="column-table_checkbox-wrapp">
                                            <input class="column-table_checkbox" type="checkbox" id="" name=""><span
                                                class="tools-td-text table-td-text column-table_checkbox-number"
                                                th:utext="${statusStat.index+1}"></span>
                                        </div>
                                    </td>
                                    <td th:utext="${status.created}"></td>
                                    <td th:utext="${status.tools.name}"></td>
                                    <td th:utext="${status.executor}"></td>
                                    <td th:utext="${status.phone_number}"></td>
                                    <td th:utext="${status.start}"></td>
                                    <td th:utext="${status.end}"></td>
                                    <td th:utext="${status.priceRepair}"></td>
                                    <td th:utext="${status.employee}"></td>
                                    <td th:utext="${status.note}"></td>
                                    <td th:utext="${status.statusTools.getValue()}"></td>
                                    <td>
                                        <span class="column-table__photo-mini" th:each="photo : ${status.photos}">
                                            <a  rel="modal:open"  th:href="${'#'+photoStat.count +''+ status.tools.id}">
                                                <img class="column-table__photo-mini_img" th:src="${photo}">
                                                <div th:id="${photoStat.count +''+ status.tools.id}" class="modal">
                                                    <img th:src="${photo}">
                                                </div>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- Modal HTML embedded directly into document -->


                        <div class="pagination-control col-lg-12 order-lg-1">
                            <!-- Bootstrap 4 -->
                            <nav aria-label="Навигация по страницам">
                                <ul class="pagination">
                                    <li class="page-item" th:if="${list_statuses.totalPages > 0}"
                                        th:each="page_number : ${page_numbers}">
                                        <a class="page-link-m page-link" th:href="@{/repair(size=${list_statuses.size}, page=${page_numberStat.index})}" th:text="${page_numberStat.index}" th:class="${page_number==list_statuses.number + 1} ? active"></a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </main>
                <div th:insert="fragments/footer.html"></div>
            </div>
        </div>
    </div>
</div>
<div th:insert="fragments/scripts.html"></div>
</body>
</html>